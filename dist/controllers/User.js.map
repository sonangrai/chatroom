{"version":3,"sources":["../../src/controllers/User.js"],"names":["saveUser","req","res","fname","lname","email","avatar","body","userObj","User","firstname","lastname","userInDb","findOne","successObj","responseObj","send","save","error","failedObj"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA;AACA;AACO,MAAMA,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBC,IAAAA,KAAhB;AAAuBC,IAAAA;AAAvB,MAAkCL,GAAG,CAACM,IAA5C;AAEA,MAAIC,OAAO,GAAG,IAAIC,aAAJ,CAAS;AACrBC,IAAAA,SAAS,EAAEP,KADU;AAErBQ,IAAAA,QAAQ,EAAEP,KAFW;AAGrBC,IAAAA,KAAK,EAAEA,KAHc;AAIrBC,IAAAA,MAAM,EAAEA;AAJa,GAAT,CAAd;;AAOA,MAAI;AACF;AACA,QAAIM,QAAQ,GAAG,MAAMH,cAAKI,OAAL,CAAa;AAAER,MAAAA,KAAK,EAAEA;AAAT,KAAb,CAArB;;AACA,QAAIO,QAAJ,EAAc;AACZ;AACA,UAAIE,UAAU,GAAG,IAAIC,iBAAJ,CACf,yBADe,EAEfH,QAFe,EAGf,GAHe,CAAjB;AAKAV,MAAAA,GAAG,CAACc,IAAJ,CAASF,UAAT;AACD,KARD,MAQO;AACL,YAAMN,OAAO,CAACS,IAAR,EAAN,CADK,CAGL;;AACA,UAAIH,UAAU,GAAG,IAAIC,iBAAJ,CACf,yBADe,EAEfH,QAFe,EAGf,GAHe,CAAjB;AAKAV,MAAAA,GAAG,CAACc,IAAJ,CAASF,UAAT;AACD;AACF,GAtBD,CAsBE,OAAOI,KAAP,EAAc;AACd;AACA,QAAIC,SAAS,GAAG,IAAIJ,iBAAJ,CAAgB,oBAAhB,EAAsCH,QAAtC,EAAgD,GAAhD,CAAhB;AACAV,IAAAA,GAAG,CAACc,IAAJ,CAASG,SAAT;AACD;AACF,CArCM","sourcesContent":["import User from \"../model/User.model\";\nimport responseObj from \"../utils/response\";\n\n/**\n * Saving user to mongodb\n */\nexport const saveUser = async (req, res) => {\n  const { fname, lname, email, avatar } = req.body;\n\n  let userObj = new User({\n    firstname: fname,\n    lastname: lname,\n    email: email,\n    avatar: avatar,\n  });\n\n  try {\n    //Finding if they exist already\n    let userInDb = await User.findOne({ email: email });\n    if (userInDb) {\n      //Creating success object\n      let successObj = new responseObj(\n        \"User login successfully\",\n        userInDb,\n        201\n      );\n      res.send(successObj);\n    } else {\n      await userObj.save();\n\n      //Creating success object\n      let successObj = new responseObj(\n        \"User added successfully\",\n        userInDb,\n        201\n      );\n      res.send(successObj);\n    }\n  } catch (error) {\n    //Creating success object\n    let failedObj = new responseObj(\"User adding failed\", userInDb, 500);\n    res.send(failedObj);\n  }\n};\n"],"file":"User.js"}