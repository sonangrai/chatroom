{"version":3,"sources":["../../src/controllers/User.js"],"names":["User","require","responseObj","exports","saveUser","req","res","fname","lname","email","avatar","body","userObj","firstname","lastname","userInDb","findOne","msg","data","status","send","save","error"],"mappings":";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,qBAAD,CAApB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAkBD,OAAO,CAAC,mBAAD,CAA/B;AAEA;AACA;AACA;;;AACAE,OAAO,CAACC,QAAR,GAAmB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACrC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBC,IAAAA,KAAhB;AAAuBC,IAAAA;AAAvB,MAAkCL,GAAG,CAACM,IAA5C;AAEA,MAAIC,OAAO,GAAG,IAAIZ,IAAJ,CAAS;AACrBa,IAAAA,SAAS,EAAEN,KADU;AAErBO,IAAAA,QAAQ,EAAEN,KAFW;AAGrBC,IAAAA,KAAK,EAAEA,KAHc;AAIrBC,IAAAA,MAAM,EAAEA;AAJa,GAAT,CAAd;;AAOA,MAAI;AACF;AACA,QAAIK,QAAQ,GAAG,MAAMf,IAAI,CAACgB,OAAL,CAAa;AAAEP,MAAAA,KAAK,EAAEA;AAAT,KAAb,CAArB;;AACA,QAAIM,QAAJ,EAAc;AACZ;AACAb,MAAAA,WAAW,CAACe,GAAZ,GAAkB,yBAAlB;AACAf,MAAAA,WAAW,CAACgB,IAAZ,GAAmBH,QAAnB;AACAb,MAAAA,WAAW,CAACiB,MAAZ,GAAqB,GAArB;AACAb,MAAAA,GAAG,CAACc,IAAJ,CAASlB,WAAT;AACD,KAND,MAMO;AACL,YAAMU,OAAO,CAACS,IAAR,EAAN,CADK,CAGL;;AACAnB,MAAAA,WAAW,CAACe,GAAZ,GAAkB,yBAAlB;AACAf,MAAAA,WAAW,CAACgB,IAAZ,GAAmBN,OAAnB;AACAV,MAAAA,WAAW,CAACiB,MAAZ,GAAqB,GAArB;AACAb,MAAAA,GAAG,CAACc,IAAJ,CAASlB,WAAT;AACD;AACF,GAlBD,CAkBE,OAAOoB,KAAP,EAAc;AACd;AACApB,IAAAA,WAAW,CAACe,GAAZ,GAAkB,oBAAlB;AACAf,IAAAA,WAAW,CAACgB,IAAZ,GAAmBN,OAAnB;AACAV,IAAAA,WAAW,CAACiB,MAAZ,GAAqB,GAArB;AACAb,IAAAA,GAAG,CAACc,IAAJ,CAASlB,WAAT;AACD;AACF,CAnCD","sourcesContent":["const User = require(\"../model/User.model\");\nconst { responseObj } = require(\"../utils/response\");\n\n/**\n * Saving user to mongodb\n */\nexports.saveUser = async (req, res) => {\n  const { fname, lname, email, avatar } = req.body;\n\n  let userObj = new User({\n    firstname: fname,\n    lastname: lname,\n    email: email,\n    avatar: avatar,\n  });\n\n  try {\n    //Finding if they exist already\n    let userInDb = await User.findOne({ email: email });\n    if (userInDb) {\n      //Creating success object\n      responseObj.msg = \"User login successfully\";\n      responseObj.data = userInDb;\n      responseObj.status = 201;\n      res.send(responseObj);\n    } else {\n      await userObj.save();\n\n      //Creating success object\n      responseObj.msg = \"User added successfully\";\n      responseObj.data = userObj;\n      responseObj.status = 201;\n      res.send(responseObj);\n    }\n  } catch (error) {\n    //Creating success object\n    responseObj.msg = \"User adding failed\";\n    responseObj.data = userObj;\n    responseObj.status = 500;\n    res.send(responseObj);\n  }\n};\n"],"file":"User.js"}